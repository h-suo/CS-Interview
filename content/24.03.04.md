# CS 면접 질문 정리

## 캐시 메모리(Cache Memory)

캐시 메모리는 데이터나 값을 미리 복사해 놓는 임시 장소를 말합니다.

데이터를 미리 복사해둬 계산이나 접근 시간 없이 더 빠른 속도로 데이터에 접근할 수 있도록 하여 속도가 빠른 장치와 느린 장치에서 속도 차이에 따른 병목 현상을 줄이기 위해 사용합니다.

### 캐시 종류

#### CPU 캐시

CPU 캐시는 대용량의 메모리 접근을 빠르게 하기 위해 CPU 칩 내부에 별도로 탑재하는 작은 메모리이며, 속도와 크기에 따라 L1, L2, L3 캐시가 존재합니다.

> - L1 : CPU 내부에 존재
> - L2 : CPU와 RAM 사이에 존재
> - L3 : 보통 메인보드에 존재한다고 함

L1 캐시가 가장 빠르며 L1, L2, L3 순서로 접근하여 데이터를 찾습니다.

#### 디스크 캐시 

디스크 캐시는 주기억장치(RAM)와 보조기억장치 사이에 존재하는 캐시 메모리입니다.

주기억장치와 보조기억장치의 속도 차이에 따른 병목 현상을 줄이기 위해 사용합니다.

<br>

### 캐시 지역성

캐시가 효율적으로 동작하기 위해서는 캐시에 저장할 데이터가 지역성을 가져야 하며, 시간, 공간 두 가지의 지역성이 있습니다.

#### 시간 지역성

for나 while 같은 반복문에 사용하는 조건 변수처럼 한번 참조된 데이터는 참조될 가능성이 높은 것을 시간 지역성이라고 합니다.

#### 공간 지역성

A[0], A[1]과 같은 연속 접근 시, 참조된 데이터 근처에 있는 데이터는 사용될 가능성이 높은 것을 공간 지역성이라고 합니다.

<br>

### 캐시 미스

캐시 미스는 CPU가 요청한 데이터가 캐시 메모리에 없어서 DRAM에서 가져오는 것을 말합니다.

#### Cold miss

Cold miss는 해당 메모리 주소를 처음 불러서 나는 미스입니다.

#### Conflict miss

Conflict miss는 캐시 메모리에 A와 B 데이터를 저장해야 하는데, A와 B가 같은 캐시 메모리 주소에 할당되어 있어서 나는 미스입니다.

Direct Mapped Cache에서 많이 발생합니다.

#### Capacity miss

Capacity miss는 캐시 메모리의 공간이 부족해서 나는 미스입니다.

Conflict는 주소 할당 문제이며, Capacity는 공간 문제로 일어나는 미스입니다.

<br>

### 구조 및 작동 방식

#### Direct Mapped Cache

가장 기본적인 구조로, DRAM의 여러 주소가 캐시 메모리의 한 주소에 대응되는 다대일 방식입니다.

간단하고 빠른 장점이 있지만, Conflict Miss가 발생하는 것이 단점입니다.

#### Fully Associative Cache

비어있는 캐시 메모리가 있으면, 마음대로 주소를 저장하는 방식입니다.

조건이나 규칙이 없어서 특정 캐시 Set 안에 있는 모든 블록을 한 번에 찾아 원하는 데이터가 있는지 검색해야 합니다. 

CAM이라는 특수한 메모리 구조를 사용해야 하며 가격이 매우 비싸다는 단점이 있습니다.

#### Set Associative Cache

Direct와 Fully를 합친 방식으로 특정 행을 지정하고, 그 행안의 어떤 열이든 비어있을 때 저장하는 방식입니다. 

Direct에 비해 검색 속도는 느리지만, 저장이 빠르고 Fully에 비해 저장이 느린 대신 검색이 빠른 중간형 구조입니다.
